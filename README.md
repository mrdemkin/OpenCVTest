# OpenCVTest
C#, с использованием Opencvsharp3 v4.0.0.20181129 

@ TO DO
 - Добавлени параметров командной строки для входных даных
 - Изменение логики выделения параграфов для выделения многоугольниками
 - Устранение вложенных контуров
 - GUI
 
Программа представлена в виде одной сцены, с двумя Canvas, которые представляют из себя окна Menu и Game. На каждую кнопку в обоих окнах происходит логирование событий на экран в Text, а также логирует event в fabric. Просмотреть их можно в панели управления.

@ Требуется избавиться от обилия синглтонов; сделать нормальное взаимодействие объектов и классов, так как сейчас все находится в одном FabricEvents, что является неправильным, неудобным и просто плохим тоном.

# Обработка изображения
ImageForTextProcessing - класс для изображений, которые потенциально содержат текст. Для экземпляра требуется путь до файла-изображения

PrepareImage() - подготавливает изображение к обработке (устранение фона и размытие)

initBoundedWordsImage() - находит контуры слов и обводит их прямоугольниками

initBoundedParagraphsImage() - находит контуры абзацев и обводит их прямоугольниками

SaveImageWithWordsBounding() - сохраняет в файл-изображения с обведеными словами

SaveImageWithParagraphsBounding() - сохраняет в файл-изображения с обведеными абзацами

# Нахождение параграфов

На данный момент требуемого результата достичь не удалось. Параграфы обводятся прямоугольниками, а не многоугольниками. Соответственно плотного прилегания при неполностью заполненной строке нет. Были предприняты попытки, но нужного результата не получалось.
 - Для устранения фантомных срабатываний пробовал ввести верхние и нижние границы ширины/высоты для отрисовки прямоугольников и/или по их пересечению
 - Для плотного прилегания строк вводил различные маски, с объединением эрозией, аппроксимировал полученные контуры и пр.. 
 - Вариант торисовки кастомного обводного многоугольника линиями (отрисовывая прямые линия по полученным координатам) омел из-за медленной работы и общей неэффективности (на мой взгляд) 
